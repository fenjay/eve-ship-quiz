@model Eve_Ship_ID.Models.VersusModel

@{
    ViewBag.Title = "Versus";
}


<script>
    $(document).ready(function () {
        $('#CharacterOneName').blur(function () {
            var charName = $('#CharacterOneName').val();
            //alert(charName);
            $.get("../Versus/CharacterIdForName/", { id: charName })
            .done(function (charid) {
                $('#CharacterOneId').val(charid);
                //alert(charid);
                if (charid != 0) {
                    $('#characterOneCheck').attr('src', '../images/Green_check.png');
                    $('#characterOneCheck').attr('alt', 'Character Resolved');
                }
            });
        });

        $('#CharacterTwoName').blur(function () {
            var charName = $('#CharacterTwoName').val();
            //alert(charName);
            $.get("../Versus/CharacterIdForName/", { id: charName })
            .done(function (charid) {
                $('#CharacterTwoId').val(charid);
                // alert(charid);
                if(charid != 0)
                {
                    $('#characterTwoCheck').attr('src', '../images/Green_check.png');
                    $('#characterTwoCheck').attr('alt', 'Character Resolved');
                }
            });
        });
    });


    function resolveCharId()
    {
        var charName = $('#CharacterOneName').val();
        alert(charName);
        $.get("../Versus/CharacterIdForName/", { id: charName })
        .done(function (charid) {
            $('#CharacterOneId').val(charid);
            alert(charid);
        });
        }

    </script>

<h2>Versus</h2>
Versus stuff goes here<br />
@using (Html.BeginForm("", "Versus", FormMethod.Post, new {id = "VersusForm", style="visibility:visible"}))
{
    
    @Html.TextBoxFor(model => model.CharacterOneName) <img id="characterOneCheck"/>

                                  @Html.TextBoxFor(model => model.CharacterTwoName)    <img id="characterTwoCheck" />
    @Html.TextBoxFor(model => model.CharacterOneId)
                         
    @Html.TextBoxFor(model => model.CharacterTwoId)

    <br />
    <input type="Submit" value="Versus!" id="submitCompare" >
}

Player 1 number of kills: &nbsp;

@if (Model != null && Model.resultsOne != null) 
{
    <p>nbr kills</p>
@Model.resultsOne.nbrKillsPlayerOne
    <p>Nbr times won</p>
    @Model.resultsOne.nberTimesPlayerOneWon
    <p>nbr 1v1s</p>
    @Model.resultsOne.nbr1v1s
    <p>nbr 1v2s</p>
    @Model.resultsOne.nbr1v2s
    <p>nbr 1v3+s</p>
    @Model.resultsOne.nbr1vManys


}